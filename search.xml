<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>A gift</title>
      <link href="/396a.html"/>
      <url>/396a.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="aplayer-WZOwsVjX" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="536624791" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="true" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"></div><h5 id="我小弟的心意"><a href="#我小弟的心意" class="headerlink" title="我小弟的心意"></a>我小弟的心意</h5><p><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/nanzet/nanzet-imgs/images/qianm.jpg" alt=""></p><p><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/nanzet/nanzet-imgs/images/giftcard.jpg" alt=""><br>一起加油吧!大哥在南京等你 <span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f618.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f618.png?v8">😘</span></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 心情 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>下雪啦</title>
      <link href="/fe66.html"/>
      <url>/fe66.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="aplayer-NsmdTDIp" class="aplayer aplayer-tag-marker meting-tag-marker" data-id="545915780" data-server="netease" data-type="song" data-mode="circulation" data-autoplay="true" data-mutex="true" data-listmaxheight="340px" data-preload="auto" data-theme="#ad7a86"></div><h5 id="小思绪"><a href="#小思绪" class="headerlink" title="小思绪"></a>小思绪</h5><p> 回南京的第一场雪，现在外面正在下冰雹，有点小开心ヾ(✿ﾟ▽ﾟ)ノ~羡慕的合肥的鹅毛大雪哇。为自己的机智感到庆幸jiojio不冷了，顺丰真快！今年都没有堆雪人，最喜欢玩打雪仗了，小时候和几个小跟班搭的秘密基地被拆了。看netfix的《怪奇物语》的时候也想起了很多小时候的事情，eleven真的帅啊！</p><h5 id="去年的雪"><a href="#去年的雪" class="headerlink" title="去年的雪"></a>去年的雪</h5><p>小鱼鱼：<br><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/nanzet/nanzet-imgs/images/snow_fish.jpg" alt=""></p><p>瓜子脸的雪人：<br><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/nanzet/nanzet-imgs/images/%E9%9B%AA%E4%BA%BA.jpg" alt=""></p><h5 id="ps"><a href="#ps" class="headerlink" title="ps"></a>ps</h5><p> 文章背景图是life is strange游戏里的Max，赚了我好多眼泪的游戏。分享几张截图：<br><strong>暴风雨来临：</strong><br><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/nanzet/nanzet-imgs/images/%E5%A5%87%E5%BC%82%E4%BA%BA%E7%94%9Ftogether.png" alt=""><br><strong>两个小侦探：</strong><br><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/nanzet/nanzet-imgs/images/%E4%B8%A4%E4%B8%AA%E5%B0%8F%E4%BE%A6%E6%8E%A2.png" alt=""><br><strong>克洛伊的涂鸦：</strong><br><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/nanzet/nanzet-imgs/images/%E5%85%8B%E6%B4%9B%E4%BC%8A%E7%9A%84%E6%B6%82%E9%B8%A6.png" alt=""><br><strong>麦克斯的画展：</strong><br><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/nanzet/nanzet-imgs/images/max%E7%9A%84%E7%94%BB%E5%B1%95.png" alt=""><br><strong>手绘：</strong><br><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/nanzet/nanzet-imgs/images/%E6%89%8B%E7%BB%98.png" alt=""><br><strong>小镇被摧毁，可选结局-时光倒流-拯救克洛伊-离开：</strong><br><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/nanzet/nanzet-imgs/images/%E9%80%83%E7%A6%BB.png" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 心情 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>git学习小记</title>
      <link href="/fdbe.html"/>
      <url>/fdbe.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>1、初始化一个Git仓库，使用<strong>git init</strong>命令。可以将某个新建的目录变成Git可以管理的仓库。</p><p>2、提交修改和提交新文件到Git仓库，一样分两步：</p><ul><li>使用命令<strong>git add <file></file></strong> ，注意，可反复多次使用，添加多个文件；</li><li>使用命令<strong>git commit -m “说明注释”</strong> ，完成。</li></ul><p>3、<strong>git status</strong>可查看工作区状态，<strong>git diff</strong>可查看版本修改内容。</p><p>4、<strong>git add</strong>的各种区别：</p><pre><code>git add -A   // 添加所有改动git add *     // 添加新建文件和修改，但是不包括删除git add .    // 添加新建文件和修改，但是不包括删除git add -u   // 添加修改和删除，但是不包括新建文件</code></pre><p><strong>git add . 和 git add * 区别：</strong><br> git add . 会把本地所有untrack的文件都加入暂存区，并且会根据.gitignore做过滤，但是git add * 会忽略.gitignore把任何文件都加入。</p><p>5、在 commit 前撤销 add:</p><pre><code>git reset &lt;file&gt; // 撤销提交单独文件git reset        // unstage all due changes</code></pre><p>6、版本回退：</p><ul><li>HEAD指向的版本就是当前版本，因此，Git允许我们在版本的历史之间穿梭，使用命令git reset –hard commit_id。</li><li>穿梭前，用git log可以查看提交历史，以便确定要回退到哪个版本。</li><li>要重返未来，用git reflog查看命令历史，以便确定要回到未来的哪个版本。</li></ul><p>7、理解： 需要提交的文件修改通通放到暂存区，然后，一次性提交暂存区的所有修改。<br><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/nanzet/nanzet-imgs/images/git.jpg" alt=""></p><p>8、git管理的是修改而不是文件：每次修改，如果不用git add到暂存区，那就不会加入到commit中。</p><p>9、撤销修改：<br><strong>场景1：</strong><br> 改乱了工作区某个文件的内容，想直接丢弃工作区的修改时，用命令git checkout – file。</p><p><strong>场景2：</strong><br> 不但改乱了工作区某个文件的内容，还添加到了暂存区时，想丢弃修改，分两步，第一步用命令git reset HEAD <file>，就回到了场景1，第二步按场景1操作。</file></p><p><strong>场景3：</strong><br> 已经提交了不合适的修改到版本库时，想要撤销本次提交，参考版本回退，不过前提是没有推送到远程库。</p><p>10、删除文件流程：</p><ul><li><p>在本地仓库删除指定文件：<br><code>git rm &lt;filename&gt;</code></p></li><li><p>删除本地仓库文件夹：（先进入该文件夹所在目录在执行命令）<br><code>git rm -r 文件夹/</code></p></li><li><p>提交修改<br><code>git commit -m "删除文件夹"</code></p></li><li><p>推送到远程仓库<br><code>git push    # origin master</code></p></li></ul><p><strong>注：git rm命令</strong></p><pre><code>git rm -h用法：git rm [&lt;选项&gt;] [--] &lt;文件&gt;...    -n, --dry-run         演习    -q, --quiet           不列出删除的文件    --cached              只从索引区删除    -f, --force           忽略文件更新状态检查    -r                    允许递归删除    --ignore-unmatch      即使没有匹配，也以零状态退出</code></pre><p>11、从远程库克隆：<br>例如已经在gitea创建了名为PE-TOOL的仓库并勾选了Initialize this repository with a README。<br>使用git clone克隆一个本地库：<br><code>git clone http://xxxx/Nanzet/PE-TOOL.git</code></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>了解国内相关法规，爬虫到底能爬哪些内容？</title>
      <link href="/dea1.html"/>
      <url>/dea1.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-爬虫相关违法违规案例"><a href="#1-爬虫相关违法违规案例" class="headerlink" title="1. 爬虫相关违法违规案例"></a>1. 爬虫相关违法违规案例</h3><hr><h4 id="1-1-为违法违规组织提供爬虫相关服务"><a href="#1-1-为违法违规组织提供爬虫相关服务" class="headerlink" title="1.1 为违法违规组织提供爬虫相关服务"></a>1.1 为违法违规组织提供爬虫相关服务</h4><ul><li><p><a href="https://github.com/HiddenStrawberry/Crawler_Illegal_Cases_In_China/tree/master/case2" target="_blank" rel="noopener">“快啊答题”AI破解验证码服务被抓</a></p></li><li><p><a href="https://baijiahao.baidu.com/s?id=1589886315683543136&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">永嘉警方揪出“黑”百度黑客团伙 干扰搜索引擎牟利超七千万元</a></p></li></ul><h4 id="1-2-抓取个人隐私数据并贩卖"><a href="#1-2-抓取个人隐私数据并贩卖" class="headerlink" title="1.2 抓取个人隐私数据并贩卖"></a>1.2 抓取个人隐私数据并贩卖</h4><ul><li><p><a href="https://github.com/HiddenStrawberry/Crawler_Illegal_Cases_In_China/tree/master/case3" target="_blank" rel="noopener">简历大数据公司“巧达科技”被一锅端</a></p></li><li><p><a href="http://www.aihami.com/a/dangjian/shibada/403060.html" target="_blank" rel="noopener">社保掌上通被下架 用户的信息很容易泄露太不安全了</a></p></li><li><p><a href="http://baijiahao.baidu.com/s?id=1645632518831659246&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">爬虫为何受关注？业内：大数据服务商或因合作方涉套路贷犯罪而被牵连</a></p></li></ul><h4 id="1-3-利用无版权的商业数据获利"><a href="#1-3-利用无版权的商业数据获利" class="headerlink" title="1.3 利用无版权的商业数据获利"></a>1.3 利用无版权的商业数据获利</h4><ul><li><p><a href="https://github.com/HiddenStrawberry/Crawler_Illegal_Cases_In_China/tree/master/case6" target="_blank" rel="noopener">“车来了”涉嫌偷数据被警方立案</a></p></li><li><p><a href="https://money.163.com/19/0802/06/ELI9OADD002580S6.html" target="_blank" rel="noopener">裁判文书网数据竟被售卖：爬虫程序抓取 或成侵权</a></p></li></ul><h4 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h4><ul><li><a href="https://github.com/HiddenStrawberry/Crawler_Illegal_Cases_In_China/tree/master/case7" target="_blank" rel="noopener">头疼大战前传：头条前高管反噬被判刑</a></li></ul><h3 id="2-相关法律法规"><a href="#2-相关法律法规" class="headerlink" title="2. 相关法律法规"></a>2. 相关法律法规</h3><hr><h4 id="2-1-《中华人民共和国刑法》对网络爬虫的定罪依据"><a href="#2-1-《中华人民共和国刑法》对网络爬虫的定罪依据" class="headerlink" title="2.1 《中华人民共和国刑法》对网络爬虫的定罪依据"></a>2.1 《中华人民共和国刑法》对网络爬虫的定罪依据</h4><ul><li>第二百八十五条 非法侵入计算机信息系统罪</li></ul><blockquote><p> 违反国家规定，侵入国家事务、国防建设、尖端科学技术领域的计算机信息系统的，处三年以下有期徒刑或者拘役。<br> 违反国家规定，侵入前款规定以外的计算机信息系统或者采用其他技术手段，获取该计算机信息系统中存储、处理或者传输的数据，或者对该计算机信息系统实施非法控制，情节严重的，处三年以下有期徒刑或者拘役，并处或者单处罚金；情节特别严重的，处三年以上七年以下有期徒刑，并处罚金。<br> 提供专门用于侵入、非法控制计算机信息系统的程序、工具，或者明知他人实施侵入、非法控制计算机信息系统的违法犯罪行为而为其提供程序、工具，情节严重的，依照前款的规定处罚。<br> 单位犯前三款罪的，对单位判处罚金，并对其直接负责的主管人员和其他直接责任人员，依照各该款的规定处罚。</p></blockquote><p><strong>注：《刑法》第285条是对爬虫爬取数据的主要定罪依据。</strong></p><ul><li>第二百八十六条 破坏计算机信息系统罪</li></ul><blockquote><p> 违反国家规定，对计算机信息系统功能进行删除、修改、增加、干扰，造成计算机信息系统不能正常运行，后果严重的，处五年以下有期徒刑或者拘役；后果特别严重的，处五年以上有期徒刑。<br> 违反国家规定，对计算机信息系统中存储、处理或者传输的数据和应用程序进行删除、修改、增加的操作，后果严重的，依照前款的规定处罚。<br> 故意制作、传播计算机病毒等破坏性程序，影响计算机系统正常运行，后果严重的，依照第一款的规定处罚。<br> 单位犯前三款罪的，对单位判处罚金，并对其直接负责的主管人员和其他直接责任人员，依照第一款的规定处罚。</p></blockquote><ul><li>第二百五十三条之一  侵犯公民个人信息罪</li></ul><blockquote><p> 违反国家有关规定，向他人出售或者提供公民个人信息，情节严重的，处三年以下有期徒刑或者拘役，并处或者单处罚金；情节特别严重的，处三年以上七年以下有期徒刑，并处罚金。<br>  违反国家有关规定，将在履行职责或者提供服务过程中获得的公民个人信息，出售或者提供给他人的，依照前款的规定从重处罚。<br> 窃取或者以其他方法非法获取公民个人信息的，依照第一款的规定处罚。<br>  单位犯前三款罪的，对单位判处罚金，并对其直接负责的主管人员和其他直接责任人员，依照各该款的规定处罚。</p></blockquote><h4 id="2-2-其他相关法规"><a href="#2-2-其他相关法规" class="headerlink" title="2.2 其他相关法规"></a>2.2 其他相关法规</h4><p> （1）《反不正当竞争法》<br> 第二条 经营者在生产经营活动中，应当遵循自愿、平等、公平、诚信的原则，遵守法律和商业道德。<br>（2）《著作权法》<br> 第十条主要内容：著作权人享有的著作权包括信息网络传播权，即以有线或者无线方式向公众提供作品，使公众可以在其个人选定的时间和地点获得作品的权利。<br>（3）《著作权法实施条例》<br> 第二条著作权法所称作品，是指文学、艺术和科学领域内具有独创性并能以某种有形形式复制的智力成果。<br>（4）《信息网络传播权保护条例》<br> 第二条主要内容：任何组织或者个人将他人的作品、表演、录音录像制品通过信息网络向公众提供，应当取得权利人许可，并支付报酬。<br> 第二十三条 网络服务提供者为服务对象提供搜索或者链接服务，在接到权利人的通知书后，根据本条例规定断开与侵权的作品、表演、录音录像制品的链接的，不承担赔偿责任；但是，明知或者应知所链接的作品、表演、录音录像制品侵权的，应当承担共同侵权责任。（“避风港”原则）<br>（5）《民法典人格权编》第816条<br> 行为人收集、处理自然人自行公开的或者其他已经合法公开的信息不承担民事责任，但是该自然人明确拒绝或者处理该信息侵害其重大利益的除外。</p><h3 id="3-爬取过程中的禁忌"><a href="#3-爬取过程中的禁忌" class="headerlink" title="3. 爬取过程中的禁忌"></a>3. 爬取过程中的禁忌</h3><hr><ul><li><p>爬取的数据不要直接商用</p></li><li><p>考量抓取的数据信息的属性，避免抓取公民个人信息数据</p></li><li><p>考量对抓取数据的加工、使用方式，应尽量避免对收集的各种数据进行加工整合后形成公民个人信息数据</p></li><li><p>破解/反编译对方客户端、软件，破解加密算法属于破坏计算机信息系统罪。</p></li></ul><p><strong>注：</strong><br> 通过技术手段，修改UA、修改device id、绕开网站访问频率控制等，进行数据抓取，如果被定罪，这些技术手段都是违法行为的佐证。</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><hr><p> 在爬取之前应先对目标数据信息进行识别，避免爬取已合法公开或未公开的公民个人信息。尊重他人的劳动成果，不要在未经授权的情况下将爬取到的视频、图片、文本等用于其他商业目的，非法获利。针对有反爬措施机制的网站，即使数据是合法公开的非公民信息类数据，也要先确认该网站的robots协议，在不对爬取目标网站服务器造成恶意压力的情况下，进行合法爬取。进行爬取测试的时候，要严格限制爬虫爬取速度、并发数量及下载延迟等。</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>了解美团点评分布式ID生成系统--Leaf</title>
      <link href="/58d9.html"/>
      <url>/58d9.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js"></script><p>1、<strong>开源项目地址：</strong><a href="https://github.com/Meituan-Dianping/Leaf" target="_blank" rel="noopener">https://github.com/Meituan-Dianping/Leaf</a></p><p>2、<strong>原理：</strong><a href="https://tech.meituan.com/2017/04/21/mt-leaf.html" target="_blank" rel="noopener">https://tech.meituan.com/2017/04/21/mt-leaf.html</a></p><p>3、<strong>安装：</strong></p><ul><li><p>MySQL 8.0.20（<a href="https://www.runoob.com/w3cnote/windows10-mysql-installer.html" target="_blank" rel="noopener">安装</a>）</p></li><li><p>java环境（<a href="https://www.runoob.com/java/java-environment-setup.html" target="_blank" rel="noopener">安装</a>）</p></li><li><p>maven（是一个项目管理工具，可以对 Java 项目进行构建、依赖管理。<a href="https://www.runoob.com/maven/maven-tutorial.html" target="_blank" rel="noopener">教程</a>）</p></li><li><p>zookeeper（一个分布式的，开放源码的分布式应用程序协调服务，是Hadoop和Hbase的重要组件。它是一个为分布式应用提供一致性服务的软件，提供的功能包括：配置维护、域名服务、分布式同步、组服务等。<a href="https://blog.csdn.net/weixin_39249427/article/details/99637734" target="_blank" rel="noopener">安装</a>）</p></li></ul><p>4、<strong>对比开源项目需要做的兼容mysql 8的修改：</strong></p><p>参考：</p><blockquote><p>a. <a href="https://blog.csdn.net/qq_39455116/article/details/99458001?utm_medium=distribute.pc_relevant.none-task-blog-baidujs-5" target="_blank" rel="noopener">基于MySQL8.0美团leaf测试分布式ID生成系统</a></p><p>b. <a href="https://www.jianshu.com/p/bd6b00e5f5ac" target="_blank" rel="noopener">Leaf：美团的分布式唯一ID方案深入剖析</a></p></blockquote><p><strong>修改1：</strong> </p><p>  父目录下的pom文件修改MySQL版本号：</p><p>  查看版本:</p><p><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Nanzet/nanzet-imgs/images/2020061001.jpg" alt="2020061001"></p><p>修改pom.xml文件：</p><p><code>&lt;mysql-connector-java.version&gt;8.0.20&lt;/mysql-connector-java.version&gt;</code></p><p><strong>修改2：</strong></p><p>  数据库的设置，修改文件leaf.properties：</p><pre><code>leaf.name=com.sankuai.leaf.opensource.test# segment模式开关，这种模式依赖数据库leaf.segment.enable=trueleaf.jdbc.url=jdbc:mysql://localhost:3306/leaf?autoReconnect=true&amp;useSSL=false&amp;serverTimezone=Asia/Shanghaileaf.jdbc.driver-class-name=com.mysql.cj.jdbc.Driverleaf.jdbc.username=rootleaf.jdbc.password=xxxxx# snowflake模式，这种模式依赖zookeeperleaf.snowflake.enable=trueleaf.snowflake.zk.address=127.0.0.1:2181leaf.snowflake.port=9099</code></pre><p><strong>修改3：</strong></p><p>  修改xxx\Leaf\leaf-server\src\main\java\com\sankuai\inf\leaf\server\Constants.java，Constants类添加driver支持：</p><p><code>public static final String driver = "leaf.jdbc.driver-class-name";</code></p><p><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Nanzet/nanzet-imgs/images/2020061002.png" alt=""></p><p><strong>修改4：</strong></p><p>  修改xxx\Leaf\leaf-server\src\main\java\com\sankuai\inf\leaf\server\service\SegmentService.java，SegmentService类下面添加driver支持：</p><p><code>dataSource.setDriverClassName(properties.getProperty(Constants.driver));</code></p><p><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Nanzet/nanzet-imgs/images/2020061003.png" alt=""></p><p>mvn方式运行服务：</p><p><code>mvn spring-boot:run</code></p><p><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Nanzet/nanzet-imgs/images/2020061004.jpg" alt=""></p><p>Snowflake和Segment两种获取唯一ID的模式的访问方式如下：</p><pre><code># Segment模式获取唯一IDhttp://localhost:8080/api/segment/get/payhttp://localhost:8080/api/segment/get/account# Snowflake模式获取唯一IDhttp://localhost:8080/api/snowflake/get/payhttp://localhost:8080/api/snowflake/get/account</code></pre><p><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Nanzet/nanzet-imgs/images/2020061005.jpg" alt=""></p><p>Segment模式监控页面：</p><p><code>http://localhost:8080/cache</code></p><p><img src="medias/loading.gif" data-original="https://cdn.jsdelivr.net/gh/Nanzet/nanzet-imgs/images/2020061006.jpg" alt=""></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 分布式唯一ID </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/3eeb.html"/>
      <url>/3eeb.html</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span></code></pre><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
