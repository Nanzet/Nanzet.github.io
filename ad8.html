<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="生产环境部署：python+django+nginx+uwsgi+debug=False+关闭django自带的admin后台, nanzet"><meta name="description" content="心怀浪漫宇宙，也珍惜人间日常"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><title>生产环境部署：python+django+nginx+uwsgi+debug=False+关闭django自带的admin后台 | nanzet</title><link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/favicon2.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/awesome/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/materialize/materialize.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/aos/aos.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/animate/animate.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/css/matery.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/css/my.css"><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/jquery/jquery.min.js"></script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="nanzet" type="application/atom+xml"><link rel="stylesheet" href="/css/prism-tomorrow.css"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><img src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/medias/logo2.png" class="logo-img" alt="LOGO"> <span class="logo-span">nanzet</span></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fas fa-tags" style="zoom:.6"></i> <span>标签</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fas fa-bookmark" style="zoom:.6"></i> <span>分类</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:.6"></i> <span>归档</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/about" class="waves-effect waves-light"><i class="fas fa-user-circle" style="zoom:.6"></i> <span>关于</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fas fa-comments" style="zoom:.6"></i> <span>留言板</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fas fa-address-book" style="zoom:.6"></i> <span>友情链接</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-list" style="zoom:.6"></i> <span>媒体</span><i class="fas fa-chevron-down" aria-hidden="true" style="zoom:.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/movies"><i class="fas fa-film" style="margin-top:-20px;zoom:.6"></i> <span>电影</span></a></li><li><a href="/books"><i class="fas fa-book" style="margin-top:-20px;zoom:.6"></i> <span>书单</span></a></li><li><a href="/games"><i class="fas fa-gamepad" style="margin-top:-20px;zoom:.6"></i> <span>游戏</span></a></li></ul></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/medias/logo2.png" class="logo-img circle responsive-img"><div class="logo-name">nanzet</div><div class="logo-desc">心怀浪漫宇宙，也珍惜人间日常</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fa-fw fas fa-tags"></i> 标签</a></li><li class="m-nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fa-fw fas fa-bookmark"></i> 分类</a></li><li class="m-nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fa-fw fas fa-archive"></i> 归档</a></li><li class="m-nav-item"><a href="/about" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> 关于</a></li><li class="m-nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fa-fw fas fa-comments"></i> 留言板</a></li><li class="m-nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fa-fw fas fa-address-book"></i> 友情链接</a></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fas fa-list"></i> 媒体<span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/movies" style="margin-left:50px"><i class="fa fas fa-film" style="position:absolute;left:28px"></i> <span>电影</span></a></li><li><a href="/books" style="margin-left:50px"><i class="fa fas fa-book" style="position:absolute;left:28px"></i> <span>书单</span></a></li><li><a href="/games" style="margin-left:50px"><i class="fa fas fa-gamepad" style="position:absolute;left:28px"></i> <span>游戏</span></a></li></ul></li><li><div class="divider"></div></li><li><a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank"><i class="fab fa-github-square fa-fw"></i> Fork Me</a></li></ul></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#0f9d58;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style><a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a></nav></header><div class="bg-cover pd-header post-cover" style="background-image:url(https://cdn.jsdelivr.net/gh/Nanzet/nanzet-imgs/images/20201018223757.jpg)"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">生产环境部署：python+django+nginx+uwsgi+debug=False+关闭django自带的admin后台</h1></div></div></div></div></div><main class="post-container content"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/tocbot/tocbot.css"><style>#articleContent h1::before,#articleContent h2::before,#articleContent h3::before,#articleContent h4::before,#articleContent h5::before,#articleContent h6::before{display:block;content:" ";height:100px;margin-top:-100px;visibility:hidden}#articleContent :focus{outline:0}.toc-fixed{position:fixed;top:64px}.toc-widget{width:345px;padding-left:20px}.toc-widget .toc-title{margin:35px 0 15px 0;padding-left:17px;font-size:1.5rem;font-weight:700;line-height:1.5rem}.toc-widget ol{padding:0;list-style:none}#toc-content{height:calc(100vh - 250px);overflow:auto}#toc-content ol{padding-left:10px}#toc-content ol li{padding-left:10px}#toc-content .toc-link:hover{color:#42b983;font-weight:700;text-decoration:underline}#toc-content .toc-link::before{background-color:transparent;max-height:25px;position:absolute;right:23.5vw;display:block}#toc-content .is-active-link{color:#42b983}#floating-toc-btn{position:fixed;right:15px;bottom:76px;padding-top:15px;margin-bottom:0;z-index:998}#floating-toc-btn .btn-floating{width:48px;height:48px}#floating-toc-btn .btn-floating i{line-height:48px;font-size:1.4rem}</style><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><a href="/tags/python/"><span class="chip bg-color">python</span></a> <a href="/tags/django/"><span class="chip bg-color">django</span></a> <a href="/tags/uwsgi/"><span class="chip bg-color">uwsgi</span></a> <a href="/tags/nginx/"><span class="chip bg-color">nginx</span></a></div></div><div class="col s5 right-align"><div class="post-cate"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/%E6%8A%80%E6%9C%AF/" class="post-category">技术</a></div></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i> 发布日期:&nbsp;&nbsp; 2020-10-18</div><div class="post-date info-break-policy"><i class="far fa-calendar-check fa-fw"></i> 更新日期:&nbsp;&nbsp; 2020-10-18</div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i> 文章字数:&nbsp;&nbsp; 1.5k</div><div class="info-break-policy"><i class="far fa-clock fa-fw"></i> 阅读时长:&nbsp;&nbsp; 6 分</div><div id="busuanzi_container_page_pv" class="info-break-policy"><i class="far fa-eye fa-fw"></i> 阅读次数:&nbsp;&nbsp;<span id="busuanzi_value_page_pv"></span></div></div></div><hr class="clearfix"><div class="card-content article-card-content"><div id="articleContent"><blockquote><p><strong>参考：</strong><a href="https://www.cnblogs.com/zhming26/p/6158660.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhming26/p/6158660.html</a></p><p><strong>前言：</strong></p><p> 该种部署方式中nginx接收Web的所有请求，其中所有的静态请求由nginx来处理，所有的非静态请求通过uwsgi传递给Django，由Django来进行处理，从而完成一次WEB请求。</p></blockquote><h5 id="1-测试部署环境"><a href="#1-测试部署环境" class="headerlink" title="1. 测试部署环境"></a>1. 测试部署环境</h5><ul><li>操作系统debian 10</li><li>python3.7</li><li>django2.2</li></ul><h5 id="2-安装nginx及配置"><a href="#2-安装nginx及配置" class="headerlink" title="2. 安装nginx及配置"></a>2. 安装nginx及配置</h5><h6 id="2-1-切换到root权限，安装"><a href="#2-1-切换到root权限，安装" class="headerlink" title="2.1 切换到root权限，安装"></a>2.1 切换到root权限，安装</h6><p><code>apt-get install nginx</code></p><h6 id="2-2-添加对应网站的配置文件和测试内容"><a href="#2-2-添加对应网站的配置文件和测试内容" class="headerlink" title="2.2 添加对应网站的配置文件和测试内容"></a>2.2 添加对应网站的配置文件和测试内容</h6><p><code>vim /etc/nginx/conf.d/wj.conf</code></p><pre class="language-conf"><code class="language-conf">server {
    listen       8088;    # 修改端口号
    server_name  localhost;


    #charset koi8-r;


    #access_log  logs/host.access.log  main;


    location / {
        root   html;
        index  index.html index.htm;
    }
}</code></pre><h6 id="2-3-重启nginx服务"><a href="#2-3-重启nginx服务" class="headerlink" title="2.3 重启nginx服务"></a>2.3 重启nginx服务</h6><p><code>service nginx restart</code></p><h6 id="2-4-本地测试运行：http-localhost-8088"><a href="#2-4-本地测试运行：http-localhost-8088" class="headerlink" title="2.4 本地测试运行：http://localhost:8088/"></a>2.4 本地测试运行：<a href="http://localhost:8088/" target="_blank" rel="noopener">http://localhost:8088/</a></h6><img src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet-imgs/images/20201018214308.png" style="zoom:80%"><h5 id="3-python3-7安装uwsgi"><a href="#3-python3-7安装uwsgi" class="headerlink" title="3. python3.7安装uwsgi"></a>3. python3.7安装uwsgi</h5><h6 id="3-1-解决报错"><a href="#3-1-解决报错" class="headerlink" title="3.1 解决报错"></a>3.1 解决报错</h6><pre class="language-shell"><code class="language-shell">sudo apt install python3.7-dev

pip3 install uwsgi --upgrade</code></pre><h6 id="3-2-测试uwsgi，创建test-py文件"><a href="#3-2-测试uwsgi，创建test-py文件" class="headerlink" title="3.2 测试uwsgi，创建test.py文件"></a>3.2 测试uwsgi，创建test.py文件</h6><pre class="language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">application</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> start_response<span class="token punctuation">)</span><span class="token punctuation">:</span>
    start_response<span class="token punctuation">(</span><span class="token string">'200 OK'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token string">'Content-Type'</span><span class="token punctuation">,</span><span class="token string">'text/html'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>b<span class="token string">"Hello World"</span><span class="token punctuation">]</span></code></pre><h6 id="3-3-通过uwsgi测试运行该文件"><a href="#3-3-通过uwsgi测试运行该文件" class="headerlink" title="3.3 通过uwsgi测试运行该文件"></a>3.3 通过uwsgi测试运行该文件</h6><p><code>uwsgi --http :8001 --wsgi-file ./test.py</code></p><img src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet-imgs/images/20201018214529.png" style="zoom:80%"><h6 id="TIPS-（以下内容仅作参考不做配置也可以，关闭服务时ctrl-c即可）"><a href="#TIPS-（以下内容仅作参考不做配置也可以，关闭服务时ctrl-c即可）" class="headerlink" title="TIPS:（以下内容仅作参考不做配置也可以，关闭服务时ctrl+c即可）"></a>TIPS:（以下内容仅作参考不做配置也可以，关闭服务时ctrl+c即可）</h6><ul><li>可在项目根目录下新建两个文件wj_uwsgi.pid和wj_uwsgi.status，一个记录pid号方便重启和停止服务，一个记录服务运行状态。</li><li>修改你的uwsgi配置文件，wj_uwsgi.ini文件添加以下配置：</li></ul><pre class="language-ini"><code class="language-ini"><span class="token constant">stats</span><span class="token attr-value"><span class="token punctuation">=</span>%(chdir)/wj_uwsgi.status           </span>
<span class="token constant">pidfile</span><span class="token attr-value"><span class="token punctuation">=</span>%(chdir)/wj_uwsgi.pid</span></code></pre><ul><li>以后通过uwsgi启动wj_uwsgi.ini文件，就会在.pid和.status文件内记录内容，启动、重启、停止uwsgi：</li></ul><pre class="language-shell"><code class="language-shell"># 启动：
uwsgi --ini xxx.ini
# 重启：
uwsgi --reload xxx.pid
# 停止：
uwsgi --stop xxx.pid</code></pre><h5 id="4-配置Django与uwsgi连接"><a href="#4-配置Django与uwsgi连接" class="headerlink" title="4. 配置Django与uwsgi连接"></a>4. 配置Django与uwsgi连接</h5><p> django项目位置为：/home/mycode/webshellCheck</p><h6 id="4-1-在项目根目录webshellCheck下新建wj-uwsgi-ini文件"><a href="#4-1-在项目根目录webshellCheck下新建wj-uwsgi-ini文件" class="headerlink" title="4.1 在项目根目录webshellCheck下新建wj_uwsgi.ini文件"></a>4.1 在项目根目录webshellCheck下新建wj_uwsgi.ini文件</h6><pre class="language-ini"><code class="language-ini"># wj_uwsgi file
<span class="token selector">[uwsgi]</span>

# Django-related settings
<span class="token constant">socket</span> <span class="token attr-value"><span class="token punctuation">=</span> 127.0.0.1:9000</span>

# the base directory (full path)
<span class="token constant">chdir</span> <span class="token attr-value"><span class="token punctuation">=</span> /home/mycode/webshellCheck</span>

# Django s wsgi file
<span class="token constant">module</span> <span class="token attr-value"><span class="token punctuation">=</span> webshellCheck.wsgi</span>

# process-related settings
# master
<span class="token constant">master</span> <span class="token attr-value"><span class="token punctuation">=</span> true</span>

# maximum number of worker processes
<span class="token constant">processes</span> <span class="token attr-value"><span class="token punctuation">=</span> 4</span>

# ... with appropriate permissions - may be needed
# chmod-socket    <span class="token attr-value"><span class="token punctuation">=</span> 664</span>
# clear environment on exit
<span class="token constant">vacuum</span> <span class="token attr-value"><span class="token punctuation">=</span> true</span></code></pre><p><strong>注：</strong></p><ul><li>socket 指定项目执行的端口号。</li><li>chdir 指定项目的目录。</li><li>module webshellCheck.wsgi ，可以这么来理解，对于wj_uwsgi.ini文件来说，与它的平级的有一个webshellCheck目录，这个目录下有一个wsgi.py文件。</li></ul><h6 id="4-2-在项目目录下通过uwsgi命令读取wj-uwsgi-ini文件启动项目"><a href="#4-2-在项目目录下通过uwsgi命令读取wj-uwsgi-ini文件启动项目" class="headerlink" title="4.2 在项目目录下通过uwsgi命令读取wj_uwsgi.ini文件启动项目"></a>4.2 在项目目录下通过uwsgi命令读取wj_uwsgi.ini文件启动项目</h6><p><code>uwsgi --ini ./wj_uwsgi.ini</code></p><h6 id="4-3-修改nginx-conf配置文件"><a href="#4-3-修改nginx-conf配置文件" class="headerlink" title="4.3 修改nginx.conf配置文件"></a>4.3 修改nginx.conf配置文件</h6><pre class="language-conf"><code class="language-conf">server {
    listen         8099;
    server_name    127.0.0.1
    charset UTF-8;
    access_log      /var/log/nginx/wj_access.log;
    error_log       /var/log/nginx/wj_error.log;


    client_max_body_size 75M;


    location / {
        include uwsgi_params;
        uwsgi_pass 127.0.0.1:9000;
        uwsgi_read_timeout 2;
    }   
    location /static {
        expires 30d;
        autoindex on;
        add_header Cache-Control private;
        alias /home/mycode/webshellCheck/frontend/dist/static;
     }
}</code></pre><h6 id="4-4-重启nginx，然后启动uwsgi"><a href="#4-4-重启nginx，然后启动uwsgi" class="headerlink" title="4.4 重启nginx，然后启动uwsgi"></a>4.4 重启nginx，然后启动uwsgi</h6><pre class="language-shell"><code class="language-shell">service nginx restart

uwsgi --ini ./wj_uwsgi.ini</code></pre><h6 id="4-5-在浏览器测试访问：localhost-8099"><a href="#4-5-在浏览器测试访问：localhost-8099" class="headerlink" title="4.5 在浏览器测试访问：localhost:8099"></a>4.5 在浏览器测试访问：localhost:8099</h6><img src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet-imgs/images/20201018215145.png" style="zoom:80%"><p> uwsgi启动成功日志：</p><img src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet-imgs/images/20201018215253.png" style="zoom:80%"><h5 id="5-生产环境配置：Django-debug-False-关闭django自带的admin后台"><a href="#5-生产环境配置：Django-debug-False-关闭django自带的admin后台" class="headerlink" title="5. 生产环境配置：Django debug=False+关闭django自带的admin后台"></a>5. 生产环境配置：Django debug=False+关闭django自带的admin后台</h5><h6 id="5-1-静态文件配置"><a href="#5-1-静态文件配置" class="headerlink" title="5.1 静态文件配置"></a>5.1 静态文件配置</h6><p> 关于本项目中前端打包的静态文件放在项目根目录下的frontend/dist/static路径下，部署到生产环境中需要将debug设置为false，静态文件相关配置如下:</p><pre class="language-conf"><code class="language-conf">......
DEBUG = False    # 修改

ALLOWED_HOSTS = ['*', ]    # 允许所有域名访问

STATIC_URL = '/static/'    # 静态路由映射，别名设置，django利用STATIC_URL来让浏览器可以直接访问静态文件

STATICFILES_DIRS = [    # 公共文件夹的静态文件路由配置
    os.path.join(BASE_DIR, "frontend/dist/static"),
]

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        # 'DIRS': [],
        'DIRS': ['frontend/dist/static'],    # 模板文件的路径设置
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.template.context_processors.request',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]
......</code></pre><h6 id="5-2-关闭django自带的admin后台，主urls-py的配置"><a href="#5-2-关闭django自带的admin后台，主urls-py的配置" class="headerlink" title="5.2 关闭django自带的admin后台，主urls.py的配置"></a>5.2 关闭django自带的admin后台，主urls.py的配置</h6><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token punctuation">,</span> include
<span class="token keyword">from</span> django<span class="token punctuation">.</span>views<span class="token punctuation">.</span>generic <span class="token keyword">import</span> TemplateView


urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment" spellcheck="true"># path('admin/', admin.site.urls),    # 生产环境下建议可关闭django自带的后台管理</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> TemplateView<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span>template_name<span class="token operator">=</span><span class="token string">"index.html"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token comment" spellcheck="true"># 首页模板调用路径</span>
    path<span class="token punctuation">(</span><span class="token string">'users/'</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span><span class="token string">'wscheck.urls'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span></code></pre><p> Django关闭DEBUG模式后，就相当于是生产环境了，Django官网上指出如果是django框架一旦作为生产环境，那么它的静态文件访问接口就不应该从Django框架中走了，应该有独立的web环境，首推nginx 。在开发过程中，开发人员在框架的根目录下创建一个static目录，目录在根据里面有几个APP创建对应APP程序静态文件目录。但是一旦放到生产环境（也就是关闭掉DEBUG模式），你在nginx中就要单独做访问/static/目录的路由。</p><h6 id="5-3-存在多个应用内的静态文件时的配置"><a href="#5-3-存在多个应用内的静态文件时的配置" class="headerlink" title="5.3 存在多个应用内的静态文件时的配置"></a>5.3 存在多个应用内的静态文件时的配置</h6><p> 这里由于只有一个应用的静态文件需要加载，所以注意nginx的配置中项目运行需要加载的静态文件就是一个绝对路径，上面关于静态文件的配置完全可以满足本项目的需求。而当该项目下不止一个app且每个app下都有独立的静态文件的时候，我们就需要将所有的静态文件都统一放到一个目录下。django提供了一个比较方便的方法：</p><p>（1）在上述例子的静态文件配置的基础上，settings.py中配置一个静态目录的根目录：STATIC_ROOT</p><pre class="language-python"><code class="language-python">STATIC_ROOT <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span> <span class="token string">'staticfiles'</span><span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 注意staticfiles可以是其他名称，但是不要和STATICFILES_DIRS设置的名称重复</span></code></pre><p>（2）然后在项目根目录下执行以下命令，可将项目下所有的静态资源统一复制到STATIC_ROOT目录下</p><pre class="language-shell"><code class="language-shell">root@debian:/home/mycode/webshellCheck# python3 manage.py collectstatic</code></pre><p> 执行完命令可以看到在项目根目录下多了一个带锁图标的staticfiles文件夹，记得赋予该目录权限：</p><p><code>chmod 777 staticfiles -R</code></p><img src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet-imgs/images/20201018222754.png" style="zoom:60%"><p>（3）修改nginx配置中的静态文件路径，将该行<code>alias /home/mycode/webshellCheck/frontend/dist/static;</code>更改为：</p><p><code>alias /home/mycode/webshellCheck/staticfiles;</code></p><p> 重启nginx，启动uwsgi，在浏览器测试运行成功！</p><p> 尝试在浏览器输入<code>localhost:8090/不存在的路径</code>不会出现暴露部分路径的debug信息，尝试输入<code>localhost:8090/admin</code>提示不存在。<span class="github-emoji" style="color:transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/270c.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/270c.png?v8">✌</span><span class="github-emoji" style="color:transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f606.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f606.png?v8">😆</span><span class="github-emoji" style="color:transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/270c.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/270c.png?v8">✌</span></p><script>document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });</script></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者:</i></span> <span class="reprint-info"><a href="/about" rel="external nofollow noreferrer">nanzet</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接:</i></span> <span class="reprint-info"><a href="https://nanzet.cn/ad8.html">https://nanzet.cn/ad8.html</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明:</i></span> <span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> 许可协议。转载请注明来源 <a href="/about" target="_blank">nanzet</a> !</span></div></div><script async defer>document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><a href="/tags/python/"><span class="chip bg-color">python</span></a> <a href="/tags/django/"><span class="chip bg-color">django</span></a> <a href="/tags/uwsgi/"><span class="chip bg-color">uwsgi</span></a> <a href="/tags/nginx/"><span class="chip bg-color">nginx</span></a></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-sites="qq,wechat,qzone,twitter,facebook,google,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/share/js/social-share.min.js"></script></div></div></div><style>#reward{margin:40px 0;text-align:center}#reward .reward-link{font-size:1.4rem;line-height:38px}#reward .btn-floating:hover{box-shadow:0 6px 12px rgba(0,0,0,.2),0 5px 15px rgba(0,0,0,.2)}#rewardModal{width:320px;height:350px}#rewardModal .reward-title{margin:15px auto;padding-bottom:5px}#rewardModal .modal-content{padding:10px}#rewardModal .close{position:absolute;right:15px;top:15px;color:rgba(0,0,0,.5);font-size:1.3rem;line-height:20px;cursor:pointer}#rewardModal .close:hover{color:#ef5350;transform:scale(1.3);-moz-transform:scale(1.3);-webkit-transform:scale(1.3);-o-transform:scale(1.3)}#rewardModal .reward-tabs{margin:0 auto;width:210px}.reward-tabs .tabs{height:38px;margin:10px auto;padding-left:0}.reward-content ul{padding-left:0!important}.reward-tabs .tabs .tab{height:38px;line-height:38px}.reward-tabs .tab a{color:#fff;background-color:#ccc}.reward-tabs .tab a:hover{background-color:#ccc;color:#fff}.reward-tabs .wechat-tab .active{color:#fff!important;background-color:#22ab38!important}.reward-tabs .alipay-tab .active{color:#fff!important;background-color:#019fe8!important}.reward-tabs .reward-img{width:210px;height:210px}</style><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close"><i class="fas fa-times"></i></a><h4 class="reward-title">对你有帮助的话，可否请我喝杯咖啡？</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><script>$(function(){$(".tabs").tabs()})</script></div></div><style>.valine-card{margin:1.5rem auto}.valine-card .card-content{padding:20px 20px 5px 20px}#vcomments textarea{box-sizing:border-box;background:url(/medias/comment_bg.png) 100% 100% no-repeat}#vcomments p{margin:2px 2px 10px;font-size:1.05rem;line-height:1.78rem}#vcomments blockquote p{text-indent:.2rem}#vcomments a{padding:0 2px;color:#4cbf30;font-weight:500;text-decoration:none}#vcomments img{max-width:100%;height:auto;cursor:pointer}#vcomments ol li{list-style-type:decimal}#vcomments ol,ul{display:block;padding-left:2em;word-spacing:.05rem}#vcomments ul li,ol li{display:list-item;line-height:1.8rem;font-size:1rem}#vcomments ul li{list-style-type:disc}#vcomments ul ul li{list-style-type:circle}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}#vcomments table,td,th{border:0}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments h1{font-size:1.85rem;font-weight:700;line-height:2.2rem}#vcomments h2{font-size:1.65rem;font-weight:700;line-height:1.9rem}#vcomments h3{font-size:1.45rem;font-weight:700;line-height:1.7rem}#vcomments h4{font-size:1.25rem;font-weight:700;line-height:1.5rem}#vcomments h5{font-size:1.1rem;font-weight:700;line-height:1.4rem}#vcomments h6{font-size:1rem;line-height:1.3rem}#vcomments p{font-size:1rem;line-height:1.5rem}#vcomments hr{margin:12px 0;border:0;border-top:1px solid #ccc}#vcomments blockquote{margin:15px 0;border-left:5px solid #42b983;padding:1rem .8rem .3rem .8rem;color:#666;background-color:rgba(66,185,131,.1)}#vcomments pre{font-family:monospace,monospace;padding:1.2em;margin:.5em 0;background:#272822;overflow:auto;border-radius:.3em;tab-size:4}#vcomments code{font-family:monospace,monospace;padding:1px 3px;font-size:.92rem;color:#e96900;background-color:#f8f8f8;border-radius:2px}#vcomments pre code{font-family:monospace,monospace;padding:0;color:#e8eaf6;background-color:#272822}#vcomments pre[class*=language-]{padding:1.2em;margin:.5em 0}#vcomments code[class*=language-],pre[class*=language-]{color:#e8eaf6}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}#vcomments b,strong{font-weight:700}#vcomments dfn{font-style:italic}#vcomments small{font-size:85%}#vcomments cite{font-style:normal}#vcomments mark{background-color:#fcf8e3;padding:.2em}#vcomments table,td,th{padding:12px 13px;border:1px solid #dfe2e5}table tr:nth-child(2n),thead{background-color:#fafafa}#vcomments table th{background-color:#f2f2f2;min-width:80px}#vcomments table td{min-width:80px}#vcomments [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible}</style><div class="card valine-card" data-aos="fade-up"><div class="comment_headling" style="font-size:20px;font-weight:700;position:relative;padding-left:20px;top:15px;padding-bottom:5px"><i class="fas fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div id="vcomments" class="card-content" style="display:grid"></div></div><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/valine/av-min.js"></script><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/valine/Valine.min.js"></script><script>new Valine({el:"#vcomments",appId:"5do1ClGYMrrQeRb42Lp6lb0u-gzGzoHsz",appKey:"i8xDeG3qrrQYLJIwa7mmTMdo",notify:!1,verify:!1,visitor:!0,avatar:"wavatar",pageSize:"10",lang:"zh-cn",placeholder:"ヾﾉ≧∀≦)o来啊，快活啊!"})</script><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i> &nbsp;上一篇</div><div class="card"><a href="/6861.html"><div class="card-image"><img src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/medias/featureimages/2.jpg" class="responsive-img" alt="被催更的寒假作业--长沙小复盘"> <span class="card-title">被催更的寒假作业--长沙小复盘</span></div></a><div class="card-content article-content"><div class="summary block-with-text">更新中，没写完ing...</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2021-02-20</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/%E5%BF%83%E6%83%85/" class="post-category">心情</a></span></div></div><div class="card-action article-tags"><a href="/tags/%E9%95%BF%E6%B2%99/"><span class="chip bg-color">长沙</span></a> <a href="/tags/%E6%97%85%E8%A1%8C/"><span class="chip bg-color">旅行</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/c11e.html"><div class="card-image"><img src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet-imgs/images/20201011221205.jpg" class="responsive-img" alt="解决打包前端文件到django后端项目中静态文件无法加载出现404的问题"> <span class="card-title">解决打包前端文件到django后端项目中静态文件无法加载出现404的问题</span></div></a><div class="card-content article-content"><div class="summary block-with-text">前后端分离项目中，需要把前端文件打包放到django后端项目文件下，目的是方便web网站的运行只需要开启django一个服务即可。</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2020-10-11</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/%E6%8A%80%E6%9C%AF/" class="post-category">技术</a></span></div></div><div class="card-action article-tags"><a href="/tags/django/"><span class="chip bg-color">django</span></a> <a href="/tags/vue/"><span class="chip bg-color">vue</span></a></div></div></div></div></article></div><script>$("#articleContent").on("copy",function(e){if(void 0!==window.getSelection){var n=window.getSelection();if(!((""+n).length<Number.parseInt("120"))){var t=document.getElementsByTagName("body")[0],o=document.createElement("div");o.style.position="absolute",o.style.left="-99999px",t.appendChild(o),o.appendChild(n.getRangeAt(0).cloneContents()),"PRE"===n.getRangeAt(0).commonAncestorContainer.nodeName&&(o.innerHTML="<pre>"+o.innerHTML+"</pre>");var i=document.location.href;o.innerHTML+='<br />来源: nanzet<br />文章作者: nanzet<br />文章链接: <a href="'+i+'">'+i+"</a><br />本文章著作权归作者所有，任何形式的转载都请注明出处。",n.selectAllChildren(o),window.setTimeout(function(){t.removeChild(o)},200)}}})</script><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/codeBlock/codeBlockFuction.js"></script><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/codeBlock/codeLang.js"></script><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/codeBlock/codeCopy.js"></script><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/codeBlock/codeShrink.js"></script></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/tocbot/tocbot.min.js"></script><script>$(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h1, h2, h3, h4, h5, h6'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4, h5, h6').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });</script></main><script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["(",")"]]}})</script><footer class="page-footer bg-color"><div class="container row center-align" style="margin-bottom:15px!important"><div class="col s12 m8 l8 copy-right">Copyright&nbsp;&copy; <span id="year">2020</span> <a href="/about" target="_blank">nanzet</a> |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a> |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a><br>&nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span class="white-color">13.3k</span>&nbsp;字 <span id="busuanzi_container_site_pv">|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv" class="white-color"></span>&nbsp;次</span> <span id="busuanzi_container_site_uv">|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv" class="white-color"></span>&nbsp;人</span><br><span id="sitetime">载入运行时间...</span><script>function siteTime(){var e=36e5,t=24*e,n=new Date,o="2020",r=n.getFullYear(),a=n.getMonth()+1,i=n.getDate(),l=n.getHours(),m=n.getMinutes(),M=n.getSeconds(),g=Date.UTC(o,"5","20","13","14","99"),d=Date.UTC(r,a,i,l,m,M)-g,s=Math.floor(d/31536e6),u=Math.floor(d/t-365*s),T=Math.floor((d-(365*s+u)*t)/e),c=Math.floor((d-(365*s+u)*t-T*e)/6e4),f=Math.floor((d-(365*s+u)*t-T*e-6e4*c)/1e3);o==r?(document.getElementById("year").innerHTML=r,document.getElementById("sitetime").innerHTML="本站已安全运行 "+u+" 天 "+T+" 小时 "+c+" 分钟 "+f+" 秒"):(document.getElementById("year").innerHTML=o+" - "+r,document.getElementById("sitetime").innerHTML="本站已安全运行 "+s+" 年 "+u+" 天 "+T+" 小时 "+c+" 分钟 "+f+" 秒")}setInterval(siteTime,1e3)</script><br></div><div class="col s12 m4 l4 social-link social-statis"><a href="https://github.com/nanzet" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i></a><a href="mailto:1410060198@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i></a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1410060198" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1410060198" data-position="top" data-delay="50"><i class="fab fa-qq"></i></a><a href="https://cdn.jsdelivr.net/gh/nanzet/nanzet-imgs/images/f3d68e8f8de09049ca5bd45ae2c119f.jpg" class="tooltipped" target="_blank" data-tooltip="微信联系我: https://cdn.jsdelivr.net/gh/nanzet/nanzet-imgs/images/f3d68e8f8de09049ca5bd45ae2c119f.jpg" data-position="top" data-delay="50"><i class="fab fa-weixin"></i></a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fas fa-rss"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i> &nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/js/search.js"></script><script>$(function(){searchFunc("https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/search.xml","searchInput","searchResult")})</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/materialize/materialize.min.js"></script><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/masonry/masonry.pkgd.min.js"></script><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/aos/aos.js"></script><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/scrollprogress/scrollProgress.min.js"></script><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/js/matery.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/others/clicklove.js" async></script><script async src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/others/busuanzi.pure.mini.js"></script><script color="0,0,255" pointcolor="0,0,255" opacity="0.7" zindex="-1" count="99" src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/background/canvas-nest.js"></script><script src="https://cdn.jsdelivr.net/gh/Nanzet/nanzet.github.io/libs/instantpage/instantpage.js" type="module"></script><script src="//cdn.jsdelivr.net/npm/js-base64/base64.min.js"></script><script>$('a').each(function() {
          const $this = $(this);
          const href = $this.attr('href');
          if (href && href.match('^((http|https|thunder|qqdl|ed2k|Flashget|qbrowser|ftp|rtsp|mms)://)')) {
            const strs = href.split('/');
            if (strs.length >= 3) {
                const host = strs[2];
                if (host !== 'null' || window.location.host) {
                    $this.attr('href', '/go.html?u='+Base64.encode(href)+'').attr('rel', 'external nofollow noopener noreferrer');
                    if (true) {
                        $this.attr('target', '_blank');
                    }
                }
            }
          }
        });</script></body></html>